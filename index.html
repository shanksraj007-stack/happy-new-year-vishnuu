<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>HAPPY NEW YEAR Vishnu üíñ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- GOOGLE FONTS -->
<link href="https://fonts.googleapis.com/css2?family=Nothing+You+Could+Do&family=Montserrat:wght@400;600&family=Patrick+Hand&display=swap" rel="stylesheet">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
}

html{ 
  font-size:16px;
}
@media (max-width: 480px) {
  html { font-size: 14px; }
}

body{
  background:#000;
  color:#fff;
  overflow:hidden;
  font-family:'Montserrat',sans-serif;
  font-size:1rem;
}

h1, h2, h3, h4{
  font-family:'Nothing You Could Do', cursive;
  letter-spacing:1.2px;
}

h1{font-size:2.4rem}
h2{font-size:2.1rem}
h3{font-size:1.8rem}
h4{font-size:1.5rem}

p{
  font-size:1.1rem;
  line-height:1.6;
}

.signature-font{
  font-family:'Patrick Hand', cursive;
  font-size:1.4rem;
}

.bg{
  position:fixed;
  inset:0;
  z-index:0;
  background:
    radial-gradient(circle at 20% 30%, rgba(255,0,80,.25), transparent 40%),
    radial-gradient(circle at 80% 70%, rgba(255,0,0,.3), transparent 40%);
  transition:.8s;
}

.page{
  position:absolute;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
  z-index:2;
  padding: 12px;
}
.page.active{display:flex}

.card{
  width:96%;
  max-width:580px;
  padding:32px 24px;
  background:rgba(0,0,0,.92);
  border-radius:24px;
  text-align:center;
  position:relative;
  border:2px solid #ff003c;
  box-shadow:0 0 16px #ff003c,inset 0 0 10px rgba(255,0,60,.6);
  transition:.8s;
}

body.gold{background:#050300}
body.gold .bg{opacity:0}
body.gold .card{
  border-color:gold;
  box-shadow:0 0 28px gold,inset 0 0 20px rgba(255,215,0,.6);
}

button{
  margin-top:20px;
  padding:14px 36px;
  border:none;
  border-radius:40px;
  background:linear-gradient(45deg,#ff003c,#ff5fa2);
  color:white;
  font-size:1.15rem;
  cursor:pointer;
  transition:.35s ease;
  position:relative;
  overflow:hidden;
}

button:hover{
  transform:scale(1.08);
  box-shadow: 0 0 16px #ff0000, inset 0 0 8px #000;
  filter: drop-shadow(0 0 8px #ff0000);
  background:linear-gradient(45deg,#ff0000,#cc003c);
  animation: glow 1.2s infinite alternate;
}

@keyframes glow {
  from { box-shadow: 0 0 16px #ff0000, inset 0 0 8px #000; }
  to { box-shadow: 0 0 32px #ff0000, inset 0 0 16px #000; }
}

.hold-wrap{
  margin:24px auto;
  width:160px;
  height:160px;
  position:relative;
}
svg{
  position:absolute;
  inset:0;
  transform:rotate(-90deg)
}
.track{
  fill:none;
  stroke:rgba(255,255,255,.15);
  stroke-width:6
}
.progress{
  fill:none;
  stroke:white;
  stroke-width:6;
  stroke-dasharray:502;
  stroke-dashoffset:502
}
.heart{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:3.6rem;
  cursor:pointer;
  touch-action: none;
}
.sparkle{animation:sparkle .6s infinite alternate}
@keyframes sparkle{
  to{transform:scale(1.2); text-shadow:0 0 16px #ff66cc;}
}

.secondary-text{
  position:absolute;
  top:4%;
  width:100%;
  text-align:center;
  opacity:.9;
  padding:0 16px;
}

.primary-zone{
  position:relative;
  height:300px;
  margin-top:30px;
}

.gift{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:90px;
  height:90px;
  background:#ff4fa3;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:2.8rem;
  box-shadow:0 0 24px rgba(255,80,160,.8);
  z-index:2;
  cursor:pointer;
  transition:.4s;
}

.card-item{
  position:absolute;
  width:300px;
  height:180px;
  border-radius:24px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  font-size:1.4rem;
  font-weight:700;
  cursor:grab;
  user-select:none;
  z-index:5;
  border:3px solid white;
  background: linear-gradient(135deg, #ff003c, #ff5fa2);
}
.card-item span{
  font-size:3rem;
  margin-bottom:8px
}

.bad{background: linear-gradient(135deg,#1e2a4f,#7aa2ff); color:#fff}
.work{background: linear-gradient(135deg,#3b3b3b,#e0e0e0); color:#fff}
.stress{background: linear-gradient(135deg,#3c1e4f,#e08cff); color:#fff}
.distance{background: linear-gradient(135deg,#0f3d3a,#6fffe9); color:#fff}

.particle{
  position:absolute;
  width:6px;
  height:6px;
  background:gold;
  border-radius:50%;
  animation:burst .9s linear forwards;
}
@keyframes burst{
  to{
    transform:translate(var(--x),var(--y));
    opacity:0
  }
}

.ticket{
  position:fixed;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
  z-index:20;
  padding: 12px;
}

.ticket-inner{
  width:96%;
  max-width:700px;
  background:linear-gradient(135deg,#ffd700,#fff1a8);
  color:#4a3300;
  padding:60px 40px;
  border-radius:28px;
  position:relative;
  box-shadow:0 0 55px gold;
  text-align:center;
  transform:rotate(-4deg);
  transition:.5s;
  font-size:1.4rem;
}
.ticket-inner:hover{
  transform:rotate(0deg) scale(1.04);
  box-shadow:0 0 80px gold;
}

.ticket-inner h1{
  font-size:3.2rem;
  color:gold;
  -webkit-text-stroke:1.2px #000;
  text-shadow:0 0 14px rgba(255,215,0,.9);
}

.ticket-inner p{
  font-size:1.35rem;
  margin-top:12px;
}
.fade{opacity:.65}

.popup-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.88);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:50;
  padding: 16px;
}
.popup{
  width:94%;
  max-width:760px;
  min-height:520px;
  background:linear-gradient(135deg,#ff0000,#000);
  color:white;
  padding:50px 30px;
  border-radius:18px;
  text-align:center;
  font-size:1.7rem;
  box-shadow:0 0 50px #ff0000, inset 0 0 18px #fff;
  opacity:0;
  transform:scale(0.7);
  transition:all .8s ease;
}
.popup.show{
  opacity:1;
  transform:scale(1);
}
.popup button{
  margin-top:22px;
  background:linear-gradient(45deg,#ff003c,#ff5fa2);
  font-size:1.5rem;
  padding:16px 44px;
  border-radius:36px;
}

#finalWishPage .card {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100%;
  padding: 24px 16px;
}

#finalHeart {
  font-size: 4.2rem;
  margin-bottom: 16px;
  animation: sparkle 1.4s ease-in-out infinite alternate;
}

.page-flip-container {
  position: relative;
  width: 100%;
  max-width: 620px;
  height: 420px;
  margin-top: 20px;
  perspective: 1000px;
}

.page-flip {
  width: 100%;
  height: 100%;
  position: absolute;
  transform-style: preserve-3d;
  transition: transform 1.1s cubic-bezier(0.68, -0.55, 0.27, 1.55);
}

.page-front, .page-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 22px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 24px;
  box-sizing: border-box;
  text-align: center;
}

.page-front {
  background: linear-gradient(135deg, #ff003c, #ff5fa2);
  color: white;
}

#tapTab {
  background: linear-gradient(135deg, #ff6b9d, #ff003c);
  color: white;
  font-family: 'Patrick Hand', cursive;
  font-size: 1.9rem;
  padding: 18px 48px;
  border-radius: 50px;
  cursor: pointer;
  box-shadow: 0 6px 20px rgba(255,0,60,0.75);
  transition: transform 0.35s ease, box-shadow 0.3s ease;
  user-select: none;
  border: 2.5px solid white;
  max-width: 95%;
  word-break: break-word;
}
#tapTab:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 26px rgba(255,0,60,0.9);
}

.page-back {
  background: linear-gradient(135deg, #ffd700, #ffaa00);
  color: #4a3300;
  transform: rotateY(180deg);
  font-family: 'Patrick Hand', cursive;
  box-shadow: 0 0 30px gold;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
}

.wish-content {
  width: 100%;
  max-height: 320px;
  overflow-y: auto;
  padding: 18px;
  font-size: 1.75rem;
  line-height: 1.55;
  text-align: center;
  scrollbar-width: thin;
  scrollbar-color: #d4af37 #ffeb99;
}
.wish-content::-webkit-scrollbar {
  width: 6px;
}
.wish-content::-webkit-scrollbar-track {
  background: #ffeb99;
  border-radius: 3px;
}
.wish-content::-webkit-scrollbar-thumb {
  background: #d4af37;
  border-radius: 3px;
}
.wish-content::-webkit-scrollbar-thumb:hover {
  background: #b8860b;
}

.page-flipped .page-flip {
  transform: rotateY(180deg);
}

/* Extra small devices (like Redmi 14C 5G) */
@media (max-width: 414px) {
  .page-flip-container { height: 380px; }
  .wish-content { font-size: 1.55rem; max-height: 300px; }
  #finalHeart { font-size: 3.6rem; }
  h1 { font-size: 2.1rem; }
  .hold-wrap { width: 140px; height: 140px; }
  .heart { font-size: 3.2rem; }
  .card-item { width: 270px; height: 160px; font-size: 1.3rem; }
  .card-item span { font-size: 2.7rem; }
  .primary-zone { height: 280px; }
  .gift { width: 80px; height: 80px; font-size: 2.4rem; }
}

/* Hide YouTube player */
#youtubePlayer {
  position: absolute;
  width: 0;
  height: 0;
  opacity: 0;
  pointer-events: none;
}
</style>
</head>
<body>
<div class="bg"></div>

<!-- HIDDEN YOUTUBE PLAYER -->
<div id="youtubePlayer"></div>

<!-- PAGE 0 -->
<div class="page active">
  <div class="card">
    <h1>A little something for you before the year begins üíñ</h1>
    <p>Welcome to the edge of 2026... with love ‚ù§Ô∏è</p>

    <div class="hold-wrap">
      <svg viewBox="0 0 200 200">
        <circle class="track" cx="100" cy="100" r="90"/>
        <circle class="progress" cx="100" cy="100" r="90" id="circle"/>
      </svg>
      <div class="heart" id="heart">üíî</div>
    </div>

    <p>Tap and hold to heal the heart üíñ</p>
    <button id="nextBtn" style="display:none" onclick="next()">Next üíñ</button>
  </div>
</div>

<!-- PAGE 1 -->
<div class="page">
  <div class="secondary-text">
    <h1>Something‚Äôs waiting for you üíñ</h1>
    <p>Move the little distractions aside</p>
  </div>

  <div class="card">
    <div class="primary-zone">
      <div class="gift" id="gift">üéÅ</div>

      <div class="card-item bad" style="top:20px;left:20px"><span>üåßÔ∏è</span>Bad Days</div>
      <div class="card-item work" style="top:40px;left:260px"><span>üíº</span>Work Loads</div>
      <div class="card-item stress" style="top:160px;left:80px"><span>üß†</span>Stress</div>
      <div class="card-item distance" style="top:170px;left:330px"><span>üåç</span>Distance</div>
    </div>
  </div>
</div>

<!-- GOLDEN TICKET -->
<div class="ticket" id="ticket">
  <div class="ticket-inner">
    <h1>GOLDEN TICKET</h1>
    <p>Valid for every day of 2026</p>
    <p>"Unlimited love & smiles"</p>
    <p class="fade">No expiry date</p>
    <button onclick="document.getElementById('ticket').style.display='none'; next()">Claim Ticket üíñ</button>
  </div>
</div>

<!-- PAGE 2: MEMORIES -->
<div class="page" id="memoriesPage">
  <div class="card memories-text">
    <h1>Memories üíñ</h1>
    <button id="revealMemoriesBtn">Reveal Memories üíñ</button>
  </div>
</div>

<!-- PAGE 3: FINAL WISH PAGE -->
<div class="page" id="finalWishPage">
  <div class="card">
    <div id="finalHeart">üíñ</div>
    <h1>Happy New Year Vishnuuu üíñ</h1>
    
    <div class="page-flip-container">
      <div class="page-flip" id="flipCard">
        <div class="page-front">
          <div id="tapTab">‚ú® Tap to Reveal Your Wish ‚ú®</div>
        </div>
        <div class="page-back">
          <div class="wish-content">
            May 2026 be filled with laughter,<br>
            dreams that come true,<br>
            and moments that take your breath away.<br><br>
            And through it all ‚Äî<br>
            may you always feel deeply loved.<br><br>
            Happy New Year, Vishnu! üéÜ‚ù§Ô∏è<br>
            ‚Äî With all my heart
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- POPUP OVERLAY -->
<div class="popup-overlay" id="popupOverlay">
  <div class="popup" id="popupMessage">
  </div>
</div>

<!-- Load YouTube IFrame API -->
<script src="https://www.youtube.com/iframe_api"></script>

<script>
// ==== YOUTUBE PLAYER SETUP ====
let player;
let musicStarted = false;

function onYouTubeIframeAPIReady() {
  player = new YT.Player('youtubePlayer', {
    height: '0',
    width: '0',
    videoId: 'zr_yFgFjpD8',
    playerVars: {
      autoplay: 0,
      controls: 0,
      showinfo: 0,
      rel: 0,
      modestbranding: 1,
      loop: 1,
      playlist: 'zr_yFgFjpD8',
      start: 0,
      mute: 0,
      playsinline: 1
    },
    events: {
      'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange
    }
  });
}

function onPlayerReady(event) {}

function onPlayerStateChange(event) {
  if (event.data === YT.PlayerState.ENDED) {
    player.seekTo(0);
    player.playVideo();
  }
}

function startMusic() {
  if (musicStarted || !player) return;
  musicStarted = true;
  player.setVolume(40);
  player.playVideo();
}

// ==== HEART & PAGES LOGIC ====
const pages = document.querySelectorAll('.page');
let index = 0;

const heart = document.getElementById("heart");
const circle = document.getElementById("circle");
const nextBtn = document.getElementById("nextBtn");
let hold = 0, timer, done = false;

const startHold = () => {
  if (done) return;
  startMusic();
  timer = setInterval(() => {
    hold++;
    circle.style.strokeDashoffset = 502 - (502 * hold / 100);
    if (hold >= 100) {
      done = true;
      clearInterval(timer);
      heart.innerHTML = "üíñ";
      heart.classList.add("sparkle");
      nextBtn.style.display = "inline-block";
    }
  }, 25);
};

const stopHold = () => clearInterval(timer);

heart.addEventListener('mousedown', startHold);
heart.addEventListener('touchstart', (e) => { e.preventDefault(); startHold(); });
document.addEventListener('mouseup', stopHold);
document.addEventListener('touchend', stopHold);

function next() {
  pages[index].classList.remove("active");
  index++;
  if (index >= pages.length) index = pages.length - 1;
  pages[index].classList.add("active");
}

// ===== DRAG CARDS =====
document.querySelectorAll('.card-item').forEach(card => {
  card.onmousedown = e => {
    let x = e.clientX - card.offsetLeft;
    let y = e.clientY - card.offsetTop;
    card.style.zIndex = 10;
    card.style.cursor = 'grabbing';
    function move(e) {
      card.style.left = (e.pageX - x) + 'px';
      card.style.top = (e.pageY - y) + 'px';
    }
    document.addEventListener('mousemove', move);
    document.onmouseup = () => {
      document.removeEventListener('mousemove', move);
      card.style.cursor = 'grab';
    };
  };
});

// ===== GIFT & TICKET =====
const gift = document.getElementById("gift");
const ticket = document.getElementById("ticket");

gift.onclick = () => {
  navigator.vibrate && navigator.vibrate([120, 60, 120]);
  document.body.classList.add("gold");
  for (let i = 0; i < 60; i++) {
    let p = document.createElement("div");
    p.className = "particle";
    p.style.left = "50%";
    p.style.top = "50%";
    p.style.setProperty('--x', `${Math.random() * 400 - 200}px`);
    p.style.setProperty('--y', `${Math.random() * 400 - 200}px`);
    gift.appendChild(p);
    setTimeout(() => p.remove(), 900);
  }
  setTimeout(() => ticket.style.display = "flex", 600);
};

// ===== MEMORIES =====
const revealBtn = document.getElementById("revealMemoriesBtn");
const popupOverlay = document.getElementById("popupOverlay");
const popupMessage = document.getElementById("popupMessage");

revealBtn.onclick = () => {
  revealBtn.style.display = "none";
  popupOverlay.style.display = "flex";
  
  popupMessage.innerHTML = '<span class="signature-font" style="font-size:2.5rem;">Athan nee enkuda photo veh eduthukaliyehh üò§ aproom enna memoriesuhh</span>';
  popupMessage.classList.add("show");

  setTimeout(() => {
    popupMessage.innerHTML += '<br><br><button id="secondPopupBtn" class="signature-font" style="font-size:2.2rem;">Something Special Than Photos üíñ</button>';
    const secondBtn = document.getElementById("secondPopupBtn");
    secondBtn.onclick = () => {
      popupMessage.innerHTML = '<span class="signature-font" style="font-size:2.5rem;">Ana na unna en heart fullah neraphi vachiruken üíñUn siripuh üòÅ<br>Un kannuhüëÄ<br>Kathi mari rendu puruvohm ‚öî<br> Sirikurpah alga theriyura palluh <br>Aproom unnoda aiyahhhh üò´<br> Ithelam nenachelhhh ulukulah enna moh pannuthu . Nee alagu thandi üíñ Alagiiiiiii....</span>';
      popupMessage.style.background = "linear-gradient(135deg,#ff0000,#000)";
      popupMessage.style.boxShadow = "0 0 60px #ff0000, inset 0 0 20px #fff";

      setTimeout(() => {
        const wishBtn = document.createElement('button');
        wishBtn.innerText = 'The Wish';
        wishBtn.className = 'signature-font';
        wishBtn.style.fontSize = '2.2rem';
        wishBtn.style.marginTop = '30px';
        wishBtn.style.padding = '18px 40px';
        wishBtn.onclick = () => {
          popupOverlay.style.display = 'none';
          pages[pages.length - 1].classList.add('active');
        };
        popupMessage.appendChild(wishBtn);
      }, 5000);
    };
  }, 2000);
};

// ===== FINAL WISH FLIP =====
document.getElementById('tapTab').addEventListener('click', function() {
  const container = document.querySelector('.page-flip-container');
  container.classList.add('page-flipped');
  this.style.pointerEvents = 'none';
  this.style.opacity = '0.7';
});
</script>
</body>
</html>
